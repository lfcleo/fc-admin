import{ao as J,ap as K,d as D,y as v,T as F,c as Q,o as c,a as C,s as g,k as t,n as X,w as e,l as d,F as A,m as L,f as N,e as y,t as B,g as U,r as Y,v as Z,S as $,W as ee}from"./index.Bw-HXdJa.js";import{a as te}from"./el-main.B07pfieo.js";import{E as oe}from"./el-card.6quAyc34.js";import{E as j,a as M}from"./el-form-item.DdTFErcb.js";/* empty css                  */import{E as le}from"./el-dialog.BBA-NIMO.js";import{E as ae,a as ne}from"./el-tab-pane.BVSN5WZK.js";import{E as se}from"./el-scrollbar.BL44KAAM.js";import{E as re}from"./el-empty.C4HW-14l.js";import{E as ce}from"./el-tag.CzZPdati.js";/* empty css                 */import{E as ie}from"./index.CTGuaza0.js";import{E as O}from"./index.GJMPp4rU.js";import{E as ue}from"./el-alert.CuN-_INI.js";import"./constants.Dnj8X3EN.js";import"./castArray.BRNpEoYs.js";import"./use-form-common-props.BgNKS3AW.js";import"./error.Cq9Fpw4b.js";import"./index.C_MNJChK.js";import"./_Uint8Array.CtrPbzOU.js";import"./index.BHXUVmxi.js";import"./_initCloneObject.DfkDKOcq.js";import"./index.DG3RyMHR.js";import"./scroll.q23gPQds.js";import"./vnode.C9FGNq6A.js";import"./focus-trap.BAcfioKZ.js";import"./event.BB_Ol6Sd.js";import"./isUndefined.DCTLXrZ8.js";import"./strings.Cl9EmgRa.js";import"./index.CT2l5eDu.js";import"./use-form-item.CTr4H4j6.js";import"./index.r5W6hzzQ.js";const me=["默认","扩展"],I=[Object.keys(J),Object.keys(K).map(E=>"FcIcon"+E)],pe={class:"fc-icon-select"},de={class:"fc-icon-select__dialog",style:{margin:"10px 0 10px 0"}},_e={class:"fc-icon-select__list"},fe=["data-icon"],ve=D({__name:"index",props:{modelValue:{default:"Apple"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(E,{emit:_}){const u=E,o=v(u.modelValue),s=v(!1),m=v(""),p=v(0),V=_;F(u,({modelValue:l})=>{o.value=l},{immediate:!0}),F(o,l=>{V("update:modelValue",l)}),F(s,()=>{p.value=0});const i=()=>{u.disabled||(s.value=!0)},n=l=>{p.value=l},x=l=>{l.target&&(o.value=l.target.dataset.icon,V("update:modelValue",o.value),o.value="",s.value=!1)},h=()=>{o.value="",s.value=!1},f=Q(()=>m.value?I[p.value].filter(a=>a.toLowerCase().includes(m.value.toLowerCase())):I[p.value]);return(l,a)=>{const k=ie,w=j,b=M,R=ce,q=re,P=se,W=ae,G=ne,S=O,H=le;return c(),C("div",pe,[g("div",{class:X(["fc-icon-select__wrapper",{hasValue:o.value}]),onClick:i},[t(k,{"prefix-icon":o.value||"el-icon-plus",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=r=>o.value=r),disabled:l.disabled,readonly:""},null,8,["prefix-icon","modelValue","disabled"])],2),t(H,{title:"图标选择器",modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=r=>s.value=r),width:760,"close-on-click-modal":!1,"destroy-on-close":"","append-to-body":""},{footer:e(()=>[t(S,{onClick:h,text:""},{default:e(()=>[d("清除")]),_:1}),t(S,{onClick:a[2]||(a[2]=r=>s.value=!1)},{default:e(()=>[d("取消")]),_:1})]),default:e(()=>[g("div",de,[t(b,{rules:{}},{default:e(()=>[t(w,{prop:"searchText"},{default:e(()=>[t(k,{class:"fc-icon-select__search-input","prefix-icon":"Search",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=r=>m.value=r),placeholder:"搜索",size:"large",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(G,{onTabChange:n},{default:e(()=>[(c(!0),C(A,null,L(N(me),(r,z)=>(c(),y(W,{key:r,lazy:""},{label:e(()=>[d(B(r)+" ",1),m.value?U("",!0):(c(),y(R,{key:0,size:"small",type:"info"},{default:e(()=>[d(B(p.value==z?f.value.length:N(I)[z].length),1)]),_:2},1024))]),default:e(()=>[g("div",_e,[t(P,null,{default:e(()=>[g("ul",{onClick:x},[f.value.length==0?(c(),y(q,{key:0,"image-size":100,description:"未查询到相关图标"})):U("",!0),(c(!0),C(A,null,L(f.value,T=>(c(),C("li",{key:T},[g("span",{"data-icon":T},null,8,fe),(c(),y(Y(T)))]))),128))])]),_:1})])]),_:2},1024))),128))]),_:1})])]),_:1},8,["modelValue"])])}}}),be=Z(ve,[["__scopeId","data-v-5887492b"]]),Qe=D({__name:"iconSelect",setup(E){const _=$({icon:"Apple"}),u=v(),o=v(!1),s=$({icon:[{required:!0,message:"请选择图标",trigger:"change"}]}),m=async i=>{i&&await i.validate(n=>{n&&(ee.success("请看控制台输出"),console.log(_))})},p=i=>{i&&i.resetFields()},V=()=>{o.value=!o.value};return(i,n)=>{const x=ue,h=be,f=j,l=O,a=M,k=oe,w=te;return c(),y(w,null,{default:e(()=>[t(x,{title:"支持扩展的图标选择器,除了默认的图标组还可以在 @/components/fcIconSelect/config.ts 中定义更多的图标组",type:"success",style:{"margin-bottom":"20px"}}),t(k,{shadow:"never"},{default:e(()=>[t(a,{ref_key:"ruleFormRef",ref:u,model:_,rules:s,"label-width":"100px"},{default:e(()=>[t(f,{label:"图标",prop:"icon"},{default:e(()=>[t(h,{modelValue:_.icon,"onUpdate:modelValue":n[0]||(n[0]=b=>_.icon=b),disabled:o.value},null,8,["modelValue","disabled"])]),_:1}),t(f,null,{default:e(()=>[t(l,{type:"primary",onClick:n[1]||(n[1]=b=>m(u.value))},{default:e(()=>[d("保存")]),_:1}),t(l,{onClick:n[2]||(n[2]=b=>p(u.value))},{default:e(()=>[d("重置")]),_:1}),t(l,{onClick:V},{default:e(()=>[d(B(o.value?"移除禁用":"设为禁用"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}});export{Qe as default};
